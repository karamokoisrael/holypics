import{defineDisplay as t}from"@directus/extensions-sdk";import{defineComponent as n,computed as e,openBlock as r,createElementBlock as i,toDisplayString as s}from"vue";import{useI18n as l}from"vue-i18n";var o=n({props:{value:{type:String,default:null},json:{type:String,required:!0}},setup(t){const{t:n}=l();return{displayValue:e((()=>{try{const n=JSON.parse(t.json),e=[];for(const t of n)if(e.push(t),null!=t.children&&null!=t.children)for(const n of t.children)e.push(n);return e.find((n=>n.value==t.value)).text}catch(n){return t.value}})),t:n}}});o.render=function(t,n,e,l,o,a){return r(),i("div",null,s(t.displayValue),1)},o.__file="src/display.vue";var a=t({id:"mgx-select-json-string",name:"display an item from a json string",icon:"box",description:'display an item from a json string like \n\t[\n\t\t{\n\t\t\t"text": "ok",\n\t\t\t"value": "ok"\n\t\t},\n\t\t{\n\t\t\t"text": "test",\n\t\t\t"value": "test"\n\t\t}\n\t]',component:o,options:({field:t})=>[{field:"json",name:"json",type:"string",meta:{width:"full",interface:"input-code",options:{label:"json",language:"javascript"}},schema:{default_value:null}}],types:["string"]});export{a as default};
