{"ast":null,"code":"var _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.useInitProps = useInitProps;\n\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/defineProperty\"));\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _constants = require(\"../constants\");\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    enumerableOnly && (symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    })), keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = null != arguments[i] ? arguments[i] : {};\n    i % 2 ? ownKeys(Object(source), !0).forEach(function (key) {\n      (0, _defineProperty2.default)(target, key, source[key]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) {\n      Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n    });\n  }\n\n  return target;\n}\n\nfunction useInitProps(props) {\n  var _props$enableSnap;\n\n  var _props$defaultIndex = props.defaultIndex,\n      defaultIndex = _props$defaultIndex === void 0 ? 0 : _props$defaultIndex,\n      _props$data = props.data,\n      rawData = _props$data === void 0 ? [] : _props$data,\n      _props$loop = props.loop,\n      loop = _props$loop === void 0 ? true : _props$loop,\n      _props$enabled = props.enabled,\n      enabled = _props$enabled === void 0 ? true : _props$enabled,\n      _props$autoPlayInterv = props.autoPlayInterval,\n      _autoPlayInterval = _props$autoPlayInterv === void 0 ? 1000 : _props$autoPlayInterv,\n      _props$scrollAnimatio = props.scrollAnimationDuration,\n      scrollAnimationDuration = _props$scrollAnimatio === void 0 ? 500 : _props$scrollAnimatio,\n      _props$style = props.style,\n      style = _props$style === void 0 ? {} : _props$style,\n      _props$panGestureHand = props.panGestureHandlerProps,\n      panGestureHandlerProps = _props$panGestureHand === void 0 ? {} : _props$panGestureHand,\n      _props$pagingEnabled = props.pagingEnabled,\n      pagingEnabled = _props$pagingEnabled === void 0 ? true : _props$pagingEnabled,\n      _props$snapEnabled = props.snapEnabled,\n      snapEnabled = _props$snapEnabled === void 0 ? (_props$enableSnap = props.enableSnap) != null ? _props$enableSnap : true : _props$snapEnabled,\n      _width = props.width,\n      _height = props.height;\n\n  var width = Math.round(_width || 0);\n  var height = Math.round(_height || 0);\n  var autoPlayInterval = Math.max(_autoPlayInterval, 0);\n\n  var data = _react.default.useMemo(function () {\n    if (!loop) return rawData;\n\n    if (rawData.length === _constants.DATA_LENGTH.SINGLE_ITEM) {\n      return [rawData[0], rawData[0], rawData[0]];\n    }\n\n    if (rawData.length === _constants.DATA_LENGTH.DOUBLE_ITEM) {\n      return [rawData[0], rawData[1], rawData[0], rawData[1]];\n    }\n\n    return rawData;\n  }, [rawData, loop]);\n\n  if (props.mode === 'vertical-stack' || props.mode === 'horizontal-stack') {\n    var _props$modeConfig$sho, _props$modeConfig;\n\n    if (!props.modeConfig) {\n      props.modeConfig = {};\n    }\n\n    props.modeConfig.showLength = (_props$modeConfig$sho = (_props$modeConfig = props.modeConfig) == null ? void 0 : _props$modeConfig.showLength) != null ? _props$modeConfig$sho : data.length - 1;\n  }\n\n  return _objectSpread(_objectSpread({}, props), {}, {\n    defaultIndex: defaultIndex,\n    data: data,\n    rawData: rawData,\n    loop: loop,\n    enabled: enabled,\n    autoPlayInterval: autoPlayInterval,\n    scrollAnimationDuration: scrollAnimationDuration,\n    style: style,\n    panGestureHandlerProps: panGestureHandlerProps,\n    pagingEnabled: pagingEnabled,\n    snapEnabled: snapEnabled,\n    width: width,\n    height: height\n  });\n}","map":{"version":3,"sources":["useInitProps.ts"],"names":["defaultIndex","rawData","loop","enabled","_autoPlayInterval","scrollAnimationDuration","style","panGestureHandlerProps","pagingEnabled","snapEnabled","props","_width","_height","width","Math","height","autoPlayInterval","data","React","DATA_LENGTH"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { DATA_LENGTH } from '../constants';\nimport type { TCarouselProps } from '../types';\n\ntype TGetRequiredProps<P extends keyof TCarouselProps> = Record<\n    P,\n    Required<TCarouselProps>[P]\n>;\n\nexport type TInitializeCarouselProps<T> = TCarouselProps<T> &\n    TGetRequiredProps<\n        | 'defaultIndex'\n        | 'loop'\n        | 'width'\n        | 'height'\n        | 'scrollAnimationDuration'\n        | 'autoPlayInterval'\n    > & {\n        // Raw data that has not been processed\n        rawData: T[];\n    };\n\nexport function useInitProps<T>(\n    props: TCarouselProps<T>\n): TInitializeCarouselProps<T> {\n    const {\n        defaultIndex = 0,\n        data: rawData = [],\n        loop = true,\n        enabled = true,\n        autoPlayInterval: _autoPlayInterval = 1000,\n        scrollAnimationDuration = 500,\n        style = {},\n        panGestureHandlerProps = {},\n        pagingEnabled = true,\n        snapEnabled = props.enableSnap ?? true,\n        width: _width,\n        height: _height,\n    } = props;\n\n    const width = Math.round(_width || 0);\n    const height = Math.round(_height || 0);\n    const autoPlayInterval = Math.max(_autoPlayInterval, 0);\n\n    const data = React.useMemo<T[]>(() => {\n        if (!loop) return rawData;\n\n        if (rawData.length === DATA_LENGTH.SINGLE_ITEM) {\n            return [rawData[0], rawData[0], rawData[0]];\n        }\n\n        if (rawData.length === DATA_LENGTH.DOUBLE_ITEM) {\n            return [rawData[0], rawData[1], rawData[0], rawData[1]];\n        }\n\n        return rawData;\n    }, [rawData, loop]);\n\n    if (props.mode === 'vertical-stack' || props.mode === 'horizontal-stack') {\n        if (!props.modeConfig) {\n            props.modeConfig = {};\n        }\n        props.modeConfig.showLength =\n            props.modeConfig?.showLength ?? data.length - 1;\n    }\n    return {\n        ...props,\n        defaultIndex,\n        data,\n        rawData,\n        loop,\n        enabled,\n        autoPlayInterval,\n        scrollAnimationDuration,\n        style,\n        panGestureHandlerProps,\n        pagingEnabled,\n        snapEnabled,\n        width,\n        height,\n    };\n}\n"]},"metadata":{},"sourceType":"script"}